{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/blogservice.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../header/header.component\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../shared/reverse.pipe\";\n\nfunction BlogsComponent_h1_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 5);\n    i0.ɵɵtext(1, \"There is no blog.Create a blog to Explore \\uF600\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BlogsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"div\", 8)(3, \"a\", 9);\n    i0.ɵɵelement(4, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 12)(7, \"h4\", 13)(8, \"a\", 9);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"h4\", 13);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 14);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 15)(16, \"div\", 16)(17, \"button\", 17);\n    i0.ɵɵtext(18, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" \\u00A0 \");\n    i0.ɵɵelementStart(20, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function BlogsComponent_div_4_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const blog_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.delete(blog_r2.id);\n    });\n    i0.ɵɵtext(21, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 19);\n    i0.ɵɵelement(23, \"i\", 20);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const blog_r2 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/img/\", blog_r2.image, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(blog_r2.blog_title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", blog_r2.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 6, blog_r2.date, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/create-blog/\", blog_r2.id, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", blog_r2.category, \"\");\n  }\n}\n\nexport let BlogsComponent = /*#__PURE__*/(() => {\n  class BlogsComponent {\n    constructor(blogService, router, toastr) {\n      this.blogService = blogService;\n      this.router = router;\n      this.toastr = toastr;\n      this.blogEmpty = false;\n      this.blogs = [];\n      this.usersBlogs = [];\n      this.headerReload = false;\n      this.user = {};\n    }\n\n    ngOnInit() {\n      const email = localStorage.getItem('user');\n      this.blogService.getBlogs().subscribe(blogs => {\n        this.blogs = blogs;\n        this.usersBlogs = [];\n        console.log(\"blog email\", email);\n        console.log(\"blog\", this.blogs);\n        this.blogs.forEach(blog => {\n          console.log(\"blog emafffil\", blog.email);\n\n          if (blog.email == email) {\n            this.usersBlogs.push(blog);\n            console.log(\"if\", this.usersBlogs);\n          }\n\n          if (this.usersBlogs.length == 0) {\n            this.blogEmpty = true;\n            console.log(\"blog are \", this.usersBlogs.length);\n          } else {\n            this.blogEmpty = false;\n          }\n        });\n      });\n    }\n\n    delete(id) {\n      this.blogService.deleteBlog(id).subscribe(resp => {\n        console.log(resp);\n        this.headerReload = true;\n        this.toastr.error(\"Delete this blog\");\n        setTimeout(() => {\n          this.ngOnInit();\n        }, 1000);\n      });\n    }\n\n  }\n\n  BlogsComponent.ɵfac = function BlogsComponent_Factory(t) {\n    return new (t || BlogsComponent)(i0.ɵɵdirectiveInject(i1.BlogserviceService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ToastrService));\n  };\n\n  BlogsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BlogsComponent,\n    selectors: [[\"app-blogs\"]],\n    decls: 6,\n    vars: 5,\n    consts: [[3, \"blogsUpdate\"], [\"style\", \"margin-top: 350px;\", 4, \"ngIf\"], [1, \"container\", \"section-margin\"], [1, \"row\"], [\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [2, \"margin-top\", \"350px\"], [1, \"col-md-4\"], [1, \"blog-card\", \"blog-card-blog\"], [1, \"blog-card-image\"], [\"href\", \"#\"], [1, \"img\", 3, \"src\"], [1, \"ripple-cont\"], [1, \"blog-table\"], [1, \"blog-card-caption\"], [1, \"blog-card-description\"], [1, \"ftr\"], [1, \"author\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"stats\"], [1, \"far\", \"fa-clock\"]],\n    template: function BlogsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\", 0);\n        i0.ɵɵtemplate(1, BlogsComponent_h1_1_Template, 2, 0, \"h1\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵtemplate(4, BlogsComponent_div_4_Template, 25, 9, \"div\", 4);\n        i0.ɵɵpipe(5, \"reverse\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"blogsUpdate\", ctx.headerReload);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.blogEmpty);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(5, 3, ctx.usersBlogs));\n      }\n    },\n    directives: [i4.HeaderComponent, i5.NgIf, i5.NgForOf, i2.RouterLink],\n    pipes: [i6.ReversePipe, i5.DatePipe],\n    styles: [\"h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px;margin-top:50px}a[_ngcontent-%COMP%]{font-family:Roboto}.blog-card-blog[_ngcontent-%COMP%]{margin-top:30px}.blog-card[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100%;margin-bottom:30px;border-radius:6px;color:#000000de;background:#fff;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0003,0 1px 5px #0000001f}.blog-card[_ngcontent-%COMP%]   .blog-card-image[_ngcontent-%COMP%]{height:60%;position:relative;overflow:hidden;margin-left:15px;margin-right:15px;margin-top:-30px;border-radius:6px;box-shadow:0 16px 38px -12px #0000008f,0 4px 25px #0000001f,0 8px 10px -5px #0003}.blog-card[_ngcontent-%COMP%]   .blog-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:6px;pointer-events:none}.blog-card[_ngcontent-%COMP%]   .blog-table[_ngcontent-%COMP%]{padding:15px 30px}.blog-table[_ngcontent-%COMP%]{margin-bottom:0}.blog-category[_ngcontent-%COMP%]{position:relative;line-height:0;margin:15px 0}.blog-text-success[_ngcontent-%COMP%]{color:#28a745!important}.blog-card-blog[_ngcontent-%COMP%]   .blog-card-caption[_ngcontent-%COMP%]{margin-top:5px}.blog-card-caption[_ngcontent-%COMP%]{font-weight:700;font-family:Roboto Slab,Times New Roman,serif}.fa[_ngcontent-%COMP%]{display:inline-block;font: 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.blog-card-caption[_ngcontent-%COMP%], .blog-card-caption[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none}p[_ngcontent-%COMP%]{color:#3c4857}p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}.blog-card[_ngcontent-%COMP%]   .ftr[_ngcontent-%COMP%]{margin-top:15px}.blog-card[_ngcontent-%COMP%]   .ftr[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{color:#888}.blog-card[_ngcontent-%COMP%]   .ftr[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.blog-card[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;overflow:hidden;border-radius:50%;margin-right:5px}.blog-card[_ngcontent-%COMP%]   .ftr[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{position:relative;top:1px;font-size:14px}.blog-card[_ngcontent-%COMP%]   .ftr[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{float:right;line-height:30px}\"]\n  });\n  return BlogsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}